<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ã€‡ã€‡ã®ã‚¹ãƒ­ãƒƒãƒˆã‚²ãƒ¼ãƒ </title>
    <style>
        body { background: #333; color: white; text-align: center; font-family: sans-serif; }
        #game-container { max-width: 500px; margin: 20px auto; border: 5px solid #555; padding: 20px; border-radius: 15px; background: #222; }
        
        /* ãƒªãƒ¼ãƒ«ã‚¨ãƒªã‚¢ */
        .reels { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; }
        .reel { width: 100px; height: 100px; border: 4px solid #fff; background: #fff; color: #000; 
                font-size: 50px; line-height: 100px; border-radius: 10px; overflow: hidden; }

        /* æ“ä½œãƒ‘ãƒãƒ« */
        .stats { font-size: 1.2rem; margin-bottom: 15px; }
        button { padding: 10px 40px; font-size: 1.5rem; cursor: pointer; background: #ff4757; color: white; border: none; border-radius: 5px; }
        button:disabled { background: #555; cursor: not-allowed; }

        /* çµæœè¡¨ç¤º */
        #message { height: 1.5em; margin: 10px 0; font-weight: bold; color: #f1c40f; }
        #win-screen { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
                      background: rgba(255,215,0,0.8); color: #000; justify-content: center; 
                      align-items: center; font-size: 3rem; flex-direction: column; }
        
        .how-to { font-size: 0.8rem; color: #aaa; margin-top: 20px; text-align: left; }
    </style>
</head>
<body>

<div id="game-container">
    <h1>ã€‡ã€‡ã®ã‚¹ãƒ­ãƒƒãƒˆ</h1>
    <div class="stats">æ‰€æŒã‚³ã‚¤ãƒ³: <span id="coin-count">100</span></div>
    
    <div class="reels">
        <div id="reel1" class="reel">?</div>
        <div id="reel2" class="reel">?</div>
        <div id="reel3" class="reel">?</div>
    </div>

    <div id="message"></div>
    <button id="spin-btn" onclick="startSpin()">SPIN!</button>

    <div class="how-to">
        <p>ã€éŠã³æ–¹ã€‘<br>
        1. SPINãƒœã‚¿ãƒ³ã§ãƒªãƒ¼ãƒ«ãŒå›è»¢ã—ã¾ã™ï¼ˆã‚³ã‚¹ãƒˆï¼š10ã‚³ã‚¤ãƒ³ï¼‰<br>
        2. 3ç§’å¾Œã«åœæ­¢ã—ã€3ã¤ã®çµµæŸ„ãŒæƒãˆã°å½“ãŸã‚Šï¼<br>
        3. 0ã‚³ã‚¤ãƒ³ã«ãªã‚‹ã¨ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼ã§ã™ã€‚</p>
    </div>
</div>

<div id="win-screen" onclick="this.style.display='none'">
    <div>JACKPOT!!</div>
    <div style="font-size: 1.5rem;">ã‚¯ãƒªãƒƒã‚¯ã§æˆ»ã‚‹</div>
</div>

<script>
    // è¨­å®š
    const symbols = ['ğŸ', 'ğŸ””', 'ğŸ’', 'ğŸ’', 'ğŸ°', 'ğŸ‹']; // ç‹¬è‡ªç”»åƒã‚’ä½¿ã†å ´åˆã¯URLã®é…åˆ—ã«ã™ã‚‹
    let coins = 100;
    let isSpinning = false;

    function startSpin() {
        if (coins < 10 || isSpinning) return;
        
        // æ”¯æ‰•ã„
        coins -= 10;
        updateUI();
        isSpinning = true;
        document.getElementById('spin-btn').disabled = true;
        document.getElementById('message').innerText = "å›è»¢ä¸­...";

        let spinCount = 0;
        const interval = setInterval(() => {
            // 200msã”ã¨ã«ãƒ©ãƒ³ãƒ€ãƒ è¡¨ç¤ºï¼ˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ¼”å‡ºï¼‰
            document.getElementById('reel1').innerText = symbols[Math.floor(Math.random() * symbols.length)];
            document.getElementById('reel2').innerText = symbols[Math.floor(Math.random() * symbols.length)];
            document.getElementById('reel3').innerText = symbols[Math.floor(Math.random() * symbols.length)];
            
            spinCount += 200;
            if (spinCount >= 3000) { // 3ç§’å¾Œã«åœæ­¢
                clearInterval(interval);
                stopSpin();
            }
        }, 200);
    }

    function stopSpin() {
        // æœ€çµ‚çµæœã®æ±ºå®š
        const res1 = symbols[Math.floor(Math.random() * symbols.length)];
        const res2 = symbols[Math.floor(Math.random() * symbols.length)];
        const res3 = symbols[Math.floor(Math.random() * symbols.length)];

        document.getElementById('reel1').innerText = res1;
        document.getElementById('reel2').innerText = res2;
        document.getElementById('reel3').innerText = res3;

        checkResult(res1, res2, res3);
    }

    function checkResult(r1, r2, r3) {
        isSpinning = false;
        document.getElementById('spin-btn').disabled = false;

        if (r1 === r2 && r2 === r3) {
            const winAmount = 100; // å½“ãŸã‚Šã®é…å½“
            coins += winAmount;
            document.getElementById('message').innerText = `å½“ãŸã‚Šï¼ ${winAmount}ã‚³ã‚¤ãƒ³ç²å¾—ï¼`;
            showWinScreen();
        } else {
            document.getElementById('message').innerText = "ãƒã‚ºãƒ¬";
        }

        updateUI();

        if (coins <= 0) {
            alert("ã‚³ã‚¤ãƒ³ãŒãªããªã‚Šã¾ã—ãŸã€‚ã‚²ãƒ¼ãƒ çµ‚äº†ï¼");
            document.getElementById('spin-btn').disabled = true;
        }
    }

    function updateUI() {
        document.getElementById('coin-count').innerText = coins;
    }

    function showWinScreen() {
        const winScreen = document.getElementById('win-screen');
        winScreen.style.display = 'flex';
    }
</script>

</body>
</html>